(function(t){function e(e){for(var r,o,i=e[0],c=e[1],l=e[2],u=0,d=[];u<i.length;u++)o=i[u],n[o]&&d.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);m&&m(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var i=a[o];0!==n[i]&&(r=!1)}r&&(s.splice(e--,1),t=c(c.s=a[0]))}return t}var r={},o={app:0},n={app:0},s=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-098e6390":"1cd504c7","chunk-1eb681d2":"fc5fe186","chunk-1ff63748":"8eca5b5f","chunk-2d0a421b":"e1b13bdb","chunk-2d0c0dc9":"1fb2493d","chunk-2d2107fd":"8d991347","chunk-3c852d47":"78e71306","chunk-411bb468":"4a2cc9f9","chunk-5245a349":"a1764aa9","chunk-5fb10349":"cf57bab4","chunk-d3744a02":"2094fc9e","chunk-d6a48762":"c1b5a053"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-098e6390":1,"chunk-1eb681d2":1,"chunk-3c852d47":1,"chunk-411bb468":1,"chunk-5245a349":1,"chunk-5fb10349":1,"chunk-d3744a02":1,"chunk-d6a48762":1};o[t]?e.push(o[t]):0!==o[t]&&a[t]&&e.push(o[t]=new Promise(function(e,a){for(var r="css/"+({}[t]||t)+"."+{"chunk-098e6390":"664f9014","chunk-1eb681d2":"1c203c78","chunk-1ff63748":"31d6cfe0","chunk-2d0a421b":"31d6cfe0","chunk-2d0c0dc9":"31d6cfe0","chunk-2d2107fd":"31d6cfe0","chunk-3c852d47":"ffc1516d","chunk-411bb468":"a13adb07","chunk-5245a349":"53a29170","chunk-5fb10349":"0e433876","chunk-d3744a02":"d0b5e65d","chunk-d6a48762":"5ba79087"}[t]+".css",n=c.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var l=s[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===n))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===r||u===n)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var r=e&&e.target&&e.target.src||n,s=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete o[t],m.parentNode.removeChild(m),a(s)},m.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(m)}).then(function(){o[t]=0}));var r=n[t];if(0!==r)if(r)e.push(r[2]);else{var s=new Promise(function(e,a){r=n[t]=[e,a]});e.push(r[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t),l=function(e){u.onerror=u.onload=null,clearTimeout(d);var a=n[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+r+": "+o+")");s.type=r,s.request=o,a[1](s)}n[t]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(a,r,function(e){return t[e]}.bind(null,r));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/rfs/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var m=u;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0838":function(t,e,a){t.exports=a.p+"img/product7.8668c4e6.jpg"},"127c":function(t,e,a){t.exports=a.p+"img/product3.4c15dbf3.jpg"},"26ef":function(t,e,a){t.exports=a.p+"img/product8.9fe14daa.jpg"},"2bc5":function(t,e,a){t.exports=a.p+"img/product6.7e1936ad.jpg"},"2d50":function(t,e,a){t.exports=a.p+"img/product14.8a9d2f1d.jpg"},"2f47":function(t,e,a){t.exports=a.p+"img/product1.c2e6f5bd.jpg"},"32db":function(t,e,a){t.exports=a.p+"img/product9.3f1e1e7b.jpg"},3358:function(t,e,a){t.exports=a.p+"img/product5.a0d4cd56.jpg"},3434:function(t,e,a){t.exports=a.p+"img/product12.b5d08ef4.jpg"},3784:function(t,e,a){t.exports=a.p+"img/slide-img2.50f0cab6.jpg"},"503e":function(t,e,a){t.exports=a.p+"img/product2.9f9a7c4f.jpg"},"56d7":function(t,e,a){"use strict";a.r(e);a("7f7f"),a("ac6a");var r=a("795b"),o=a.n(r),n=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.headerVisible?a("app-header"):t._e(),a("router-view"),a("app-footer")],1)},i=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"header"}},[a("el-row",{staticClass:"top-bar pull-center",attrs:{gutter:0}},[a("el-col",{staticClass:"line",attrs:{span:6,offset:1}},[t._v("上海市 奉贤区 海湾旅游区 海思路 999号")]),a("el-col",{attrs:{span:1}}),a("el-col",{staticClass:"pull-right line",attrs:{span:13}},[a("span",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.isLogin,expression:"this.$store.state.isLogin"}],staticClass:"color-green"},[t._v(t._s(this.$store.state.userInfo.username))]),a("span",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.isLogin,expression:"this.$store.state.isLogin"}]},[t._v("   ")]),a("router-link",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.isLogin,expression:"this.$store.state.isLogin"}],staticClass:"color-black",attrs:{to:"/logout"}},[t._v("我的账户")]),a("span",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.isLogin,expression:"this.$store.state.isLogin"}]},[t._v("   ")]),a("router-link",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.isLogin,expression:"this.$store.state.isLogin"}],staticClass:"color-black",attrs:{to:"/logout"}},[t._v("历史订单")]),a("span",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.isLogin,expression:"this.$store.state.isLogin"}]},[t._v("   ")]),a("router-link",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.isLogin,expression:"this.$store.state.isLogin"}],staticClass:"color-black",attrs:{to:"/logout"}},[t._v("退出登录")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"admin"==this.$store.state.userInfo.level,expression:"this.$store.state.userInfo.level=='admin'"}]},[t._v("   ")]),a("router-link",{directives:[{name:"show",rawName:"v-show",value:"admin"==this.$store.state.userInfo.level,expression:"this.$store.state.userInfo.level=='admin'"}],staticClass:"color-black",attrs:{to:"/backstage/dashboard"}},[t._v("后台管理")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"admin"==this.$store.state.userInfo.level,expression:"this.$store.state.userInfo.level=='admin'"}]},[t._v("   ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!this.$store.state.isLogin,expression:"!this.$store.state.isLogin"}]},[t._v("\n        联系电话:\n        "),a("i",{staticClass:"el-icon-mobile-phone"}),t._v("+ 1016 1750\n      ")])],1),a("el-col",{attrs:{span:1}})],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.show_headmenu,expression:"show_headmenu"}],staticClass:"header-bar pull-center",attrs:{gutter:20}},[a("el-col",{staticClass:"login-button-box",attrs:{span:7}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!this.$store.state.isLogin,expression:"!this.$store.state.isLogin"}]},[a("router-link",{attrs:{to:"/login"}},[a("el-button",{attrs:{type:"",size:"medium",round:""}},[t._v("登录")])],1),a("router-link",{attrs:{to:"/register"}},[a("el-button",{attrs:{type:"",size:"medium",round:""}},[t._v("注册")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.isLogin,expression:"this.$store.state.isLogin"}]})]),a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:6}},[a("img",{staticStyle:{height:"100%"},attrs:{src:t.logo}})]),a("el-col",{attrs:{span:6,offset:1}},[a("router-link",{attrs:{to:"/search?content="+t.input}},[a("el-input",{staticClass:"search-box",attrs:{placeholder:"搜索商品","prefix-icon":"el-icon-search",maxlength:"50"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)],1),a("el-col",{attrs:{span:2}})],1),a("el-header",[t.show_headmenu?a("el-menu",{staticClass:"pull-center",attrs:{"default-active":t.$route.path,mode:"horizontal",router:""},on:{select:t.handleSelect}},[a("el-menu-item",{staticClass:"pull-left"},[a("router-link",{attrs:{to:"/"}},[a("i",{staticClass:"fa fa-home fa-2x"})])],1),a("el-menu-item",{attrs:{index:"/"}},[t._v("生🐟鱼🐑羊")]),a("el-menu-item",{attrs:{index:"1"}},[t._v("商品中心")]),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[t._v("商品分类")]),t._l(t.category,function(e,r){return a("router-link",{key:r,attrs:{to:"/search?category="+e.label,index:t.getIndex(r)}},[a("el-menu-item",[t._v(t._s(e.label))])],1)})],2),a("el-menu-item",{attrs:{index:"3",disabled:""}},[t._v("消息中心")]),a("el-menu-item",{attrs:{index:"/order"}},[t._v("订单管理")]),a("el-submenu",{staticClass:"pull-right",attrs:{index:"/settlement","hide-timeout":300}},[a("template",{slot:"title"},[a("i",{staticClass:"fa fa-shopping-cart fa-2x"})]),t._l(this.$store.state.cartList,function(e,r){return a("el-menu-item",{key:r,staticStyle:{width:"20rem"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("img",{staticClass:"cart_img",attrs:{src:e.picture_url}})]),a("el-col",{attrs:{span:10}},[t._v(t._s(e.name))]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"pull-right"},[t._v("¥"+t._s(e.price)+"×"+t._s(e.amount))])]),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"cart_delete_icon"},[a("i",{staticClass:"el-icon-delete",on:{click:function(a){return t.Public.removeFromCartList(e.goods_id)}}})])])],1)],1)}),a("el-menu-item",{staticStyle:{width:"20rem"}},[this.$store.state.cartList.length>0?a("span",[t._v("\n            共计: ¥"+t._s(Number(this.$store.state.totalPrice).toFixed(2))+"\n            "),a("span",{staticClass:"pull-right"},[a("router-link",{staticClass:"settle",attrs:{to:"/settlement"}},[t._v("立即结算")])],1)]):a("span",{staticClass:"pull-center"},[t._v("购物车空空如也")])])],2)],1):t._e()],1),a("br")],1)},l=[],u=(a("3b2b"),a("6b54"),a("28a5"),a("c5f6"),{name:"app-header",data:function(){return{show_headmenu:!0,logo:a("9d64"),clientHeight:"",activeIndex:"0",input:"",cartList:[{src:a("a539"),name:"草莓",price:"￥3.00",quantity:4},{src:a("fd56"),name:"青椒",price:"￥2.00",quantity:2}],totalPrice:Number(this.$store.state.totalPrice).toFixed(2),category:[]}},created:function(){var t=this;this.Public.getCategory().then(function(e){console.log("F SUCCESS",e),t.category=e}).catch(function(t){console.log("F ERROR",t)})},methods:{getTotalPrice:function(){return Number(this.$store.state.totalPrice).toFixed(2)},handleSelect:function(t,e){console.log(t,e)},getIndex:function(t){return"2-"+(t+1)},getRoute:function(){}},watch:{input:function(t){this.$store.commit("setSearchBox",t),console.log("conten splite",t.split(""));for(var e="[u4e00-u9fa5a-zA-Z0-9]*",a=t.split(""),r=0;r<t.length;r++){var o=a[r].charCodeAt(0).toString(16);e=e+"\\u"+o}e+="[u4e00-u9fa5a-zA-Z0-9]*";var n=new RegExp(e);this.$store.commit("setSearchRegExp",n)}},mounted:function(){var t=this;setTimeout(function(){console.log("cartList:",t.$store.state.cartList),console.log(t.$store.state.cartList.length)},1e3)}}),d=u,m=(a("aa2e"),a("cbaa"),a("2877")),p=Object(m["a"])(d,c,l,!1,null,"c42e5648",null),f=p.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"footer"}},[t._m(0),a("div",{staticClass:"footer"},[a("div",{staticClass:"pull-center"},[a("img",{staticStyle:{height:"100%"},attrs:{src:t.logo}}),t._m(1)])])])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"foothr"},[a("hr")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",[t._v("Copyright © RawFishSheep 2019 All rights reserved")])])}],v={name:"app-footer",data:function(){return{logo:a("9d64")}}},b=v,L=(a("7d9f"),Object(m["a"])(b,g,h,!1,null,"3cc4f3f1",null)),k=L.exports,_={name:"App",components:{"app-header":f,"app-footer":k},data:function(){return{headerVisible:!0}},watch:{$route:"toggleHeader"},methods:{toggleHeader:function(){-1!=this.$route.path.indexOf("backstage")?this.headerVisible=!1:this.headerVisible=!0}},mounted:function(){this.toggleHeader(),this.Public.checkLogin(),this.Public.fillCartList(),this.Public.getCategory()}},y=_,x=(a("5c0b"),Object(m["a"])(y,s,i,!1,null,null,null)),C=x.exports,w=a("f499"),$=a.n(w),S=a("7618"),I=(a("55dd"),a("2f62"));n["default"].use(I["a"]);var j={id:6,user:"test",address:"上海市奉贤区海思路999号",totalprice:300,discount:1,createtime:"2019/04/13 18:14:12",finishtime:"",paymentname:"货到付款",isrefund:"0",isdelete:"0",status:"confirmed",detail:[{id:1,order:6,goods_id:1,amount:1,goods:{id:1,goods_id:1,category:"null",name:"法兰西大粗黄瓜",unit:"根",status:"1",price:"1.00",remain:1e3,picture_url:"/static/img/goods/1.jpg",isdelete:"0"},price:"¥ 3.00",isdelete:"0"}]},q=new I["a"].Store({state:{domain:"http://test.example.com",token:null,isLogin:!1,userInfo:{username:null,level:null,userid:null},searchbox:"",searchRegExp:/$/,cartLock:!1,cartList:[],orderListLock:!0,orderList:[j,j,j,j,j,j],totalPrice:0,category:[]},getters:{},mutations:{lockcart:function(t){t.cartLock=!0},unlockcart:function(t){t.cartLock=!1},updateUserInfo:function(t,e){t.isLogin=!0,t.token=e.token,localStorage.setItem("token",e.token),localStorage.setItem("username",e.user.username),localStorage.setItem("level",e.user.level),t.userInfo={username:e.user.username,level:e.user.level,userid:e.user.userid}},clearUserInfo:function(t){localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("level"),t.isLogin=!1,t.cartLock=!1,t.orderListLock=!0,t.token="",t.userInfo={username:null,level:null,userid:null},t.orderList=[],this.commit("clearCartList")},updateTotalPrice:function(t){var e=0;console.log(t.cartList),t.cartList.forEach(function(t){e+=Number(t.price)*Number(t.amount)}),console.log("price:",e),t.totalPrice=e,this.commit("unlockcart")},updateOrderList:function(t,e){function a(t,e){return e.id-t.id}console.log("updateOrderList"),e.sort(a),t.orderList=e,t.orderListLock=!1},updateCartList:function(t,e){function a(t,e){return t.id-e.id}"object"==Object(S["a"])(e)&&(e.sort(a),console.log("sort end"),t.cartList=e,localStorage.setItem("cartList",$()(e))),"string"==typeof e&&(localStorage.setItem("cartList",e),t.cartList=JSON.parse(e)),this.commit("updateTotalPrice")},appendToCartList:function(t,e){for(var a=0;a<t.cartList.length;a++)if(t.cartList[a].goods_id==e.id)return t.cartList[a].amount=Number(t.cartList[a].amount)+1,localStorage.setItem("cartList",$()(t.cartList)),void this.commit("updateTotalPrice");e["amount"]=1,t.cartList.push(e),localStorage.setItem("cartList",$()(t.cartList)),this.commit("updateTotalPrice")},clearCartList:function(t){t.cartList=[],localStorage.setItem("cartList",$()(t.cartList)),this.commit("updateTotalPrice")},removeFromCartList:function(t,e){this.commit("lockcart"),console.log("removeFromCartList");for(var a=0;a<t.cartList.length;a++)if(t.cartList[a].goods_id==e)return t.cartList.splice(a,1),localStorage.setItem("cartList",$()(t.cartList)),void this.commit("updateTotalPrice")},setCategory:function(t,e){t.category=e},setSearchBox:function(t,e){t.searchbox=e},setSearchRegExp:function(t,e){t.searchRegExp=e}},actions:{}}),P=a("8c4f"),N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"body"}},[a("slider",{staticClass:"unit"}),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:3}},[a("el-button",{attrs:{plain:!0},on:{click:function(e){return t.Public.addToCartList(1)}}},[t._v("添加法兰西大粗黄瓜")])],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{plain:!0},on:{click:function(e){return t.Public.addToCartList(2)}}},[t._v("添加德国大香肠")])],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{plain:!0},on:{click:function(e){return t.Public.addToCartList(3)}}},[t._v("添加新西兰大香蕉")])],1)],1),a("feature",{staticClass:"unit"}),a("products",{staticClass:"unit"})],1)},F=[],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"feature"}},[a("el-container",[a("el-row",[a("h3",{staticClass:"new"},[t._v("- 最新上市 -")])])],1),a("el-container",[a("el-row",{staticClass:"pull-center",attrs:{type:"flex",gutter:20,justify:"center"}},t._l(t.products,function(e,r){return a("el-col",{key:r,attrs:{span:6}},[a("el-card",{staticStyle:{height:"100%"}},[a("img",{staticStyle:{width:"100%"},attrs:{src:e.src,alt:e.name}}),a("el-button",{attrs:{type:"text"}},[t._v(t._s(e.name))]),a("el-rate",{attrs:{disabled:""},model:{value:e.rates,callback:function(a){t.$set(e,"rates",a)},expression:"item.rates"}}),a("div",{staticClass:"price"},[t._v(t._s(e.price))]),a("el-button",{attrs:{type:"success",plain:""}},[t._v("加入购物车")])],1)],1)}),1)],1)],1)},E=[],O={name:"feature",data:function(){return{products:[{src:a("32db"),name:"胡萝卜",price:"￥1.00",rates:4.5},{src:a("fd56"),name:"青椒",price:"￥2.00",rates:5},{src:a("a539"),name:"草莓",price:"￥3.00",rates:4.5},{src:a("64b8"),name:"土豆",price:"￥4.00",rates:4.7}]}},methods:{}},T=O,R=(a("f0eb"),Object(m["a"])(T,A,E,!1,null,"10b90ec2",null)),U=R.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"products",attrs:{id:"products"}},[a("hr"),a("el-row",{staticClass:"pull-center",staticStyle:{width:"100%"},attrs:{type:"flex",gutter:20,justify:"center"}},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.paneName,function(e,r){return a("el-tab-pane",{key:r,attrs:{label:e.label,name:e.name}},t._l(t.new_products[r],function(e,r){return a("el-col",{key:r,attrs:{span:6}},[a("el-card",{attrs:{shadow:"never"}},[a("img",{staticStyle:{width:"100%"},attrs:{src:e[0]}}),a("el-button",{attrs:{type:"text"}},[t._v(t._s(e[1]))]),a("el-rate",{attrs:{disabled:""},model:{value:e[3],callback:function(a){t.$set(e,3,a)},expression:"i[3]"}}),a("div",{staticClass:"price"},[t._v(t._s(e[2]))]),a("el-button",{attrs:{type:"success",plain:""}},[t._v("加入购物车")])],1)],1)}),1)}),1)],1)],1)},B=[],H={name:"products",data:function(){return{activeName:"first",paneName:[{label:"新鲜水果",name:"first"},{label:"海鲜水产",name:"second"},{label:"精选肉类",name:"third"},{label:"冷冻饮食",name:"fourth"},{label:"蔬菜蛋品",name:"fifth"}],value1:null,new_products:[{item1:[a("2f47"),"洋葱","￥3.20",3.8],item2:[a("503e"),"玉米","￥4.30",4.1],item3:[a("127c"),"西红柿","￥2.30",4.2],item4:[a("ec8d"),"黄瓜","￥1.20",4.6]},{item1:[a("3358"),"a","123￥",4],item2:[a("2bc5"),"b","123￥",5],item3:[a("0838"),"c","123￥",.5],item4:[a("26ef"),"d","123￥",1.5]},{item1:[a("32db"),"a","123￥",2.5],item2:[a("fd56"),"b","123￥",3.5],item3:[a("a539"),"c","123￥",4.5],item4:[a("3434"),"d","123￥",.7]},{item1:[a("64b8"),"a","123￥",1.7],item2:[a("2d50"),"b","123￥",2.7],item3:[a("3358"),"c","123￥",3.7],item4:[a("63d7"),"d","123￥",4.7]},{item1:[a("0838"),"a","123￥",5],item2:[a("2bc5"),"b","123￥",4],item3:[a("3358"),"c","123￥",3],item4:[a("a539"),"d","123￥",2]}]}},methods:{handleClick:function(t,e){console.log(t,e)}}},J=H,M=(a("e17a"),Object(m["a"])(J,z,B,!1,null,"52ce7327",null)),V=M.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-carousel",{attrs:{"indicator-position":"none",interval:2500,height:"30rem"}},[a("el-carousel-item",[a("a",{attrs:{href:"#"}},[a("div",{staticClass:"banner-image banner-image1"})])]),a("el-carousel-item",[a("a",{attrs:{href:"#"}},[a("div",{staticClass:"banner-image banner-image2"})])])],1),a("el-row",{staticClass:"fabox",attrs:{gutter:30}},[a("el-col",{staticClass:"box",attrs:{span:6,xs:12}},[a("div",{staticClass:"truck"},[a("div",{staticClass:"box-container"},[a("i",{staticClass:"fa fa-truck"}),t._v("  |  全场0元包邮\n        ")])])]),a("el-col",{staticClass:"box",attrs:{span:6,xs:12}},[a("div",{staticClass:"phone"},[a("div",{staticClass:"box-container"},[a("i",{staticClass:"fa fa-phone"}),t._v("  |  + 1016 1750\n        ")])])]),a("el-col",{staticClass:"box",attrs:{span:6,xs:12}},[a("div",{staticClass:"wechat"},[a("div",{staticClass:"box-container"},[a("i",{staticClass:"fa fa-wechat"}),t._v("  |  移动支付\n        ")])])]),a("el-col",{staticClass:"box",attrs:{span:6,xs:12}},[a("div",{staticClass:"ontime"},[a("div",{staticClass:"box-container"},[a("i",{staticClass:"fa fa-clock-o"}),t._v("  |  3天质保\n        ")])])])],1)],1)},Z=[],K={name:"slider",data:function(){return{slidePic:[{src:a("f5dc")},{src:a("3784")}]}}},G=K,Q=(a("716d"),Object(m["a"])(G,D,Z,!1,null,"ad08f590",null)),W=Q.exports,X={name:"index",components:{feature:U,products:V,slider:W}},Y=X,tt=(a("6cf1"),Object(m["a"])(Y,N,F,!1,null,"4b7857ae",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[a("div",{attrs:{id:"loginForm"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"loginForm",staticClass:"demo-loginForm",attrs:{model:t.loginForm,"status-icon":"",rules:t.loginRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){return t.submitForm("loginForm")}}},[t._v("登录")]),a("el-button",{on:{click:function(e){return t.resetForm("loginForm")}}},[t._v("重置")])],1)],1)],1)])},rt=[],ot={name:"login",data:function(){return{loginForm:{username:"",password:""},loading:!1,loginRules:{username:[{required:!0,min:4,max:20,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,min:6,max:16,message:"请输入6-16位密码",trigger:"blur"}]},logo:a("9d64")}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$ajax.post("/api/user/login",{username:e.loginForm.username,password:e.loginForm.password}).then(function(t){"0"==t.data.ret?(e.$store.commit("updateUserInfo",t.data.data),e.Public.synchronizeCartList(),e.$message({message:"登录成功，加载数据中，请稍等",type:"success"}),e.$route.query.redirect?e.$router.push({path:decodeURIComponent(e.$route.query.redirect)}):e.$router.go(-1)):e.loading=!1}),e.Public.fillCartList()})},resetForm:function(t){this.$refs[t].resetFields()}},mounted:function(){var t=this;this.loading=!1,this.Public.checkLogin(),setTimeout(function(){t.$store.state.isLogin&&t.$router.go(-1)},1e3)}},nt=ot,st=(a("c819"),Object(m["a"])(nt,at,rt,!1,null,"ef9e8fa2",null)),it=st.exports;n["default"].use(P["a"]);var ct=new P["a"]({mode:"history",base:"rfs",routes:[{path:"/",name:"index",component:et,meta:{requireLogin:!1,requreAdmin:!1}},{path:"/login",name:"login",component:it,meta:{requireLogin:!1,requreAdmin:!1}},{path:"/logout",name:"logout",component:function(){return a.e("chunk-2d2107fd").then(a.bind(null,"b7c5"))},meta:{requireLogin:!1,requreAdmin:!1}},{path:"/register",name:"register",component:function(){return a.e("chunk-098e6390").then(a.bind(null,"6a4b"))},meta:{requireLogin:!1,requreAdmin:!1}},{path:"/settlement",name:"settlement",component:function(){return a.e("chunk-d3744a02").then(a.bind(null,"c851"))},meta:{requireLogin:!0,requreAdmin:!1}},{path:"/order",component:function(){return a.e("chunk-411bb468").then(a.bind(null,"c236"))},meta:{requireLogin:!0,requreAdmin:!1}},{path:"/order/:orderid",component:function(){return a.e("chunk-1ff63748").then(a.bind(null,"f2cb"))},props:!0,meta:{requireLogin:!0,requreAdmin:!1}},{path:"/order/:orderid/pay",component:function(){return a.e("chunk-2d0a421b").then(a.bind(null,"04ab"))},props:!0,meta:{requireLogin:!1,requreAdmin:!1}},{path:"/backstage",component:function(){return a.e("chunk-5245a349").then(a.bind(null,"c3669"))},children:[{path:"dashboard",component:function(){return a.e("chunk-1eb681d2").then(a.bind(null,"be85"))},meta:{requireLogin:!0,requreAdmin:!0}},{path:"goods",component:function(){return a.e("chunk-5fb10349").then(a.bind(null,"b9ed"))},meta:{requireLogin:!0,requreAdmin:!0}},{path:"user",component:function(){return a.e("chunk-2d0c0dc9").then(a.bind(null,"441d"))},meta:{requireLogin:!0,requreAdmin:!0}}],meta:{requireLogin:!0,requreAdmin:!0}},{path:"*",component:function(){return a.e("chunk-3c852d47").then(a.bind(null,"25bb"))},meta:{requireLogin:!1,requreAdmin:!1}},{path:"/search",name:"search",component:function(){return a.e("chunk-d6a48762").then(a.bind(null,"44e1"))},meta:{requireLogin:!1,requreAdmin:!1}}]}),lt=a("5c96"),ut=a.n(lt),dt=(a("0fae"),a("1f54"),a("bc3a")),mt=a.n(dt),pt=a("4328"),ft=a.n(pt);mt.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n["default"].use(ut.a),n["default"].use(ct),n["default"].prototype.$ajax=mt.a,n["default"].prototype.$qs=ft.a,n["default"].config.productionTip=!1,mt.a.defaults.baseURL="http://coldarra.cn:8848/",mt.a.interceptors.request.use(function(t){var e=localStorage.getItem("token");return e&&(t.headers.common["Authorization"]=e),t.data=ft.a.stringify(t.data),console.log(t.data),t},function(t){return o.a.reject(t)}),mt.a.interceptors.response.use(function(t){if(console.log(t),"0"!=t.data.ret){switch(t.data.ret){case"10":ct.push({path:"/login",querry:{redirect:ct.currentRoute.fullPath}});break;default:break}n["default"].prototype.$message({message:t.data.msg,type:"warning"})}else setTimeout(function(){0==q.state.isLogin&&n["default"].prototype.Public.checkLogin()},1500);return t},function(){n["default"].prototype.$message({message:"服务器请求失败",type:"error"})}),ct.beforeEach(function(t,e,a){t.meta.requireAdmin?"admin"==localStorage.getItem("level")?a():(a({path:"/"}),n["default"].prototype.$message({message:"无此权限",type:"error"})):t.meta.requireLogin?(console.log("localStorage:",localStorage.getItem("username")),localStorage.getItem("username")?a():(a({path:"/login",query:{redirect:t.fullPath}}),n["default"].prototype.$message({message:"请先登录",type:"warning"}))):a()}),n["default"].prototype.Public={checkLogin:function(){var t=localStorage.getItem("token");console.log("localStorage",t),(t||q.state.isLogin)&&mt.a.post("/api/user/token",{token:t}).then(function(t){"0"==t.data.ret?q.commit("updateUserInfo",t.data.data):q.commit("clearUserInfo")})},fillCartList:function(){console.log("fillCartList"),q.commit("lockcart");var t=localStorage.getItem("token"),e=localStorage.getItem("cartList");t?mt.a.post("/api/cart/all").then(function(t){"0"==t.data.ret&&q.commit("updateCartList",t.data.data.cart)}):e&&q.commit("updateCartList",e)},fillOrderList:function(){mt.a.post("/api/order/all").then(function(t){if("0"==t.data.ret){var e=t.data.data.order;q.commit("updateOrderList",e),n["default"].prototype.$message({message:"订单已更新",type:"success"})}})},synchronizeCartList:function(){var t=this;console.log("synchronizeCartList");var e=localStorage.getItem("token"),a=JSON.parse(localStorage.getItem("cartList"));e?(console.log(a),a&&a.forEach(function(e,r){mt.a.post("/api/cart/append",{goods_id:e.goods_id,amount:e.amount}).then(function(o){"0"!=o.data.ret&&n["default"].prototype.$message({message:"商品"+e.name+"同步失败",type:"warning"}),r==a.length-1&&t.fillCartList()})})):n["default"].prototype.$message({message:"无效登录信息，请重新登录",type:"error"}),this.fillCartList()},clearAll:function(){q.commit("clearUserInfo"),q.commit("clearCartList")},addToCartList:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.log("addToCartList",t,a);var r=localStorage.getItem("token");r?(q.commit("lockcart"),mt.a.post("/api/cart/append",{goods_id:t,amount:a}).then(function(t){"0"==t.data.ret&&(n["default"].prototype.$message({message:"商品成功加入购物车",type:"success"}),e.fillCartList())})):mt.a.post("/api/goods/info",{goods_id:t}).then(function(t){"0"==t.data.ret&&(q.commit("appendToCartList",t.data.data.goods),n["default"].prototype.$message({message:"商品成功加入购物车",type:"success"}))})},changeCartAmount:function(t,e){var a=this;console.log("changeCartAmount",t,e),q.commit("lockcart");var r=localStorage.getItem("token");r?mt.a.post("/api/cart/amount",{goods_id:t,amount:e}).then(function(t){"0"==t.data.ret?a.fillCartList():n["default"].prototype.$message({message:"商品数量修改失败",type:"error"})}):n["default"].prototype.$message({message:"未登录",type:"error"})},removeFromCartList:function(t){var e=this;console.log("removeFromCartList",t),q.commit("lockcart");var a=localStorage.getItem("token");a?mt.a.post("/api/cart/delete",{goods_id:t}).then(function(t){"0"==t.data.ret&&(n["default"].prototype.$message({message:"商品删除成功",type:"success"}),e.fillCartList())}):q.commit("removeFromCartList",t)},getCategory:function(){return new o.a(function(t,e){mt.a.post("/api/goods/category/all",{}).then(function(e){if("0"==e.data.ret){var a=e.data.data.category;q.commit("setCategory",a),console.log("MAIN.JS",a),t(a)}}).catch(function(t){console.log(t),e(t)})})}},new n["default"]({store:q,router:ct,render:function(t){return t(C)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var r=a("5e27"),o=a.n(r);o.a},"5e27":function(t,e,a){},"63d7":function(t,e,a){t.exports=a.p+"img/product16.b788d3bf.jpg"},"64b8":function(t,e,a){t.exports=a.p+"img/product13.41c81f54.jpg"},"6cf1":function(t,e,a){"use strict";var r=a("f96a"),o=a.n(r);o.a},"716d":function(t,e,a){"use strict";var r=a("a909"),o=a.n(r);o.a},"731d":function(t,e,a){},"7d9f":function(t,e,a){"use strict";var r=a("b591"),o=a.n(r);o.a},"87e4":function(t,e,a){},"9d64":function(t,e,a){t.exports=a.p+"img/logo.a878714b.png"},a539:function(t,e,a){t.exports=a.p+"img/product11.5bea7053.jpg"},a909:function(t,e,a){},aa2e:function(t,e,a){"use strict";var r=a("731d"),o=a.n(r);o.a},b591:function(t,e,a){},c819:function(t,e,a){"use strict";var r=a("efef"),o=a.n(r);o.a},cbaa:function(t,e,a){"use strict";var r=a("dac9"),o=a.n(r);o.a},dac9:function(t,e,a){},e17a:function(t,e,a){"use strict";var r=a("e186"),o=a.n(r);o.a},e186:function(t,e,a){},ec8d:function(t,e,a){t.exports=a.p+"img/product4.a988844a.jpg"},efef:function(t,e,a){},f0eb:function(t,e,a){"use strict";var r=a("87e4"),o=a.n(r);o.a},f5dc:function(t,e,a){t.exports=a.p+"img/slide-img1.114c98f4.jpg"},f96a:function(t,e,a){},fd56:function(t,e,a){t.exports=a.p+"img/product10.e53f6395.jpg"}});
//# sourceMappingURL=app.92ee84fe.js.map