{"version":3,"sources":["webpack:///./src/components/search/search.vue?1c14","webpack:///src/components/search/search.vue","webpack:///./src/components/search/search.vue?61e5","webpack:///./src/components/search/search.vue?d11a","webpack:///./src/components/search/search.vue?5668"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticStyle","border","width","border-right","height","background","body-style","padding","staticClass","_v","margin","_l","items","key","model","value","radio","callback","$$v","$set","expression","bitem","bid","label","nativeOn","click","$event","preventDefault","showChildCategory","children","level","directives","name","rawName","font-size","icon","underline","on","changeShow","title","type","description","effect","show-icon","r","margin-bottom","gutter","gridGoods","item","span","shadow","src","picture_url","text-align","color","_s","price","unit","tags","category","remain","Public","addToCartList","goods_id","visible","display","disabled","show-score","rates","current-page","currentPage","page-size","pageSize","layout","total","searchResultLength","hide-on-single-page","current-change","handleCurrentChange","update:currentPage","update:current-page","staticRenderFns","searchvue_type_script_lang_js_","data","allGoods","totalGoods","goods","listGoods","row","蔬菜","水果","海鲜","肉类","熟食","其他","allCategory","filterCategory","searchAlert","reg","$store","state","searchRegExp","created","_this","getsearchResultLength","undefined","getCategory","then","result","console","log","catch","error","methods","val","concat","changePages","i","_this2","$ajax","post","res","ret","length","tempGoods","Math","ceil","push","index","cnt","_i","tempArray","j","ctg","getCategoryTree","tempAllCategory","addCtg","child","parent","pop","tradio","addRadio","tempCtg","indexOf","temp","_i2","$forceUpdate","mounted","_this3","setTimeout","$route","query","t","watch","$route.query.category","to","from","$route.query.content","content","test","$store.state.searchbox","searchbox","search_searchvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_search_vue_vue_type_style_index_0_id_7f013147_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_search_vue_vue_type_style_index_0_id_7f013147_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"kJAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,MAAA,CAAOC,GAAA,WAAe,CAAAH,EAAA,gBAAAA,EAAA,gBAAwCI,YAAA,CAAaC,OAAA,iBAAAC,MAAA,QAAyC,CAAAN,EAAA,YAAiBI,YAAA,CAAaG,eAAA,QAAAD,MAAA,QAAsC,CAAAN,EAAA,WAAgBI,YAAA,CAAaI,OAAA,OAAAC,WAAA,WAAuCP,MAAA,CAAQQ,aAAA,CAAcC,QAAA,MAAAH,OAAA,UAAmC,CAAAR,EAAA,OAAYY,YAAA,mBAA8B,CAAAhB,EAAAiB,GAAA,eAAAb,EAAA,gBAAAA,EAAA,WAAAA,EAAA,OAAmEY,YAAA,OAAAR,YAAA,CAAgCU,OAAA,WAAmBlB,EAAAmB,GAAAnB,EAAA,kBAAAoB,EAAAb,GAA0C,OAAAH,EAAA,OAAiBiB,IAAAd,GAAO,CAAAH,EAAA,kBAAuBkB,MAAA,CAAOC,MAAAvB,EAAAwB,MAAAjB,GAAAkB,SAAA,SAAAC,GAA+C1B,EAAA2B,KAAA3B,EAAAwB,MAAAjB,EAAAmB,IAA6BE,WAAA,cAAyB5B,EAAAmB,GAAA,WAAAU,EAAAC,GAAoC,OAAA1B,EAAA,mBAA6BiB,IAAAS,EAAAxB,MAAA,CAAeyB,MAAAF,EAAAE,OAAoBC,SAAA,CAAWC,MAAA,SAAAC,GAAiD,OAAxBA,EAAAC,iBAAwBnC,EAAAoC,kBAAAP,EAAAQ,SAAAR,EAAAS,MAAAT,EAAAE,aAA2E,SAAS,KAAA3B,EAAA,YAAsBmC,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAlB,OAAA,EAAAK,WAAA,WAAgE,CAAAxB,EAAA,OAAYY,YAAA,mBAA8B,CAAAZ,EAAA,OAAAA,EAAA,WAA0BI,YAAA,CAAakC,YAAA,QAAmBpC,MAAA,CAAQqC,KAAA,iBAAAC,WAAA,GAA0CC,GAAA,CAAKZ,MAAA,SAAAC,GAAyB,OAAAlC,EAAA8C,WAAA,SAA6B1C,EAAA,WAAgBI,YAAA,CAAakC,YAAA,QAAmBpC,MAAA,CAAQqC,KAAA,mBAAAC,WAAA,GAA4CC,GAAA,CAAKZ,MAAA,SAAAC,GAAyB,OAAAlC,EAAA8C,WAAA,UAA6B,eAAA1C,EAAA,gBAAqCmC,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAlB,MAAAvB,EAAA,YAAA4B,WAAA,gBAA8EpB,YAAA,CAAeU,OAAA,SAAiB,CAAAd,EAAA,OAAAA,EAAA,YAA2BE,MAAA,CAAOyC,MAAA,KAAAC,KAAA,QAAAC,YAAA,iBAAAC,OAAA,OAAAC,YAAA,OAA2F,KAAA/C,EAAA,WAAsBmC,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAlB,MAAAvB,EAAA,QAAA4B,WAAA,YAAsEpB,YAAA,CAAeE,MAAA,OAAcJ,MAAA,CAAQC,GAAA,aAAiBP,EAAAmB,GAAAnB,EAAA,aAAAoD,GAA8B,OAAAhD,EAAA,UAAoBiB,IAAA+B,EAAA5C,YAAA,CAAmB6C,gBAAA,QAAuB/C,MAAA,CAAQgD,OAAA,KAAatD,EAAAmB,GAAAnB,EAAAuD,UAAAH,GAAA,SAAAI,EAAAjD,GAA6C,OAAAH,EAAA,UAAoBiB,IAAAd,EAAAD,MAAA,CAAcmD,KAAA,IAAU,CAAArD,EAAA,WAAgBE,MAAA,CAAOQ,aAAA,CAAcC,QAAA,OAAiB2C,OAAA,UAAmB,CAAAtD,EAAA,OAAYY,YAAA,QAAAR,YAAA,CAAiCE,MAAA,OAAAE,OAAA,QAA+BN,MAAA,CAAQqD,IAAAH,EAAAI,eAAwBxD,EAAA,OAAYI,YAAA,CAAaO,QAAA,SAAkB,CAAAX,EAAA,OAAYI,YAAA,CAAaqD,aAAA,OAAAC,MAAA,YAAuC,CAAA9D,EAAAiB,GAAA,KAAAjB,EAAA+D,GAAAP,EAAAQ,OAAA,MAAAhE,EAAA+D,GAAAP,EAAAS,SAAA7D,EAAA,OAAsEI,YAAA,CAAaqD,aAAA,SAAqB,CAAAzD,EAAA,WAAgBE,MAAA,CAAOsC,WAAA,IAAmB,CAAA5C,EAAAiB,GAAAjB,EAAA+D,GAAAP,EAAAhB,UAAA,GAAApC,EAAA,OAA4CI,YAAA,CAAaqD,aAAA,SAAqB,CAAAzD,EAAA,UAAeE,MAAA,CAAO0C,KAAAhD,EAAAkE,KAAAV,EAAAW,YAAgC,CAAAnE,EAAAiB,GAAAjB,EAAA+D,GAAAP,EAAAW,cAAA,GAAA/D,EAAA,OAAgDI,YAAA,CAAaqD,aAAA,SAAqB,CAAA7D,EAAAiB,GAAA,OAAAjB,EAAA+D,GAAAP,EAAAY,QAAApE,EAAA+D,GAAAP,EAAAS,SAAA7D,EAAA,OAAAA,EAAA,aAAmFE,MAAA,CAAO0C,KAAA,OAAAL,KAAA,8BAAkDE,GAAA,CAAKZ,MAAA,SAAAC,GAAyB,OAAAlC,EAAAqE,OAAAC,cAAAd,EAAAe,aAAiD,CAAAvE,EAAAiB,GAAA,yBAAgC,KAAK,GAAAb,EAAA,WAAmBmC,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAlB,OAAAvB,EAAAwE,QAAA5C,WAAA,aAAwEpB,YAAA,CAAeE,MAAA,OAAcJ,MAAA,CAAQC,GAAA,aAAiBP,EAAAmB,GAAAnB,EAAA,mBAAAwD,EAAAjD,GAA0C,OAAAH,EAAA,WAAqBiB,IAAAd,EAAAC,YAAA,CAAoB6C,gBAAA,QAAuB/C,MAAA,CAAQQ,aAAA,CAAcC,QAAA,MAAAH,OAAA,OAAgC8C,OAAA,UAAmB,CAAAtD,EAAA,OAAAA,EAAA,OAAsBI,YAAA,CAAaiE,QAAA,WAAoB,CAAArE,EAAA,OAAYY,YAAA,QAAAR,YAAA,CAAiCE,MAAA,QAAAE,OAAA,SAAiCN,MAAA,CAAQqD,IAAAH,EAAAI,iBAAwBxD,EAAA,OAAcI,YAAA,CAAaiE,QAAA,iBAA0B,CAAArE,EAAA,OAAYI,YAAA,CAAaqD,aAAA,SAAqB,CAAAzD,EAAA,WAAgBE,MAAA,CAAOsC,WAAA,IAAmB,CAAA5C,EAAAiB,GAAAjB,EAAA+D,GAAAP,EAAAhB,UAAA,GAAApC,EAAA,WAAgDI,YAAA,CAAaqD,aAAA,UAAsBvD,MAAA,CAAQoE,SAAA,GAAAC,aAAA,IAA8BrD,MAAA,CAAQC,MAAAvB,EAAA,MAAAyB,SAAA,SAAAC,GAA2C1B,EAAA4E,MAAAlD,GAAcE,WAAA,WAAqBxB,EAAA,OAAYI,YAAA,CAAaqD,aAAA,OAAAC,MAAA,YAAuC,CAAA9D,EAAAiB,GAAA,KAAAjB,EAAA+D,GAAAP,EAAAQ,UAAA5D,EAAA,OAA8CI,YAAA,CAAaqD,aAAA,SAAqB,CAAAzD,EAAA,UAAeE,MAAA,CAAO0C,KAAA,YAAkB,CAAAhD,EAAAiB,GAAAjB,EAAA+D,GAAAP,EAAAW,cAAA,GAAA/D,EAAA,OAAgDI,YAAA,CAAaqD,aAAA,SAAqB,CAAAzD,EAAA,OAAYI,YAAA,CAAaqD,aAAA,SAAqB,CAAA7D,EAAAiB,GAAA,OAAAjB,EAAA+D,GAAAP,EAAAY,QAAApE,EAAA+D,GAAAP,EAAAS,WAAA7D,EAAA,OAAqEI,YAAA,CAAaqD,aAAA,WAAuB,CAAAzD,EAAA,aAAkBE,MAAA,CAAO0C,KAAA,OAAAL,KAAA,+BAAmD,CAAA3C,EAAAiB,GAAA,yBAAgC,GAAAb,EAAA,aAAAA,EAAA,iBAAyCE,MAAA,CAAOuE,eAAA7E,EAAA8E,YAAAC,YAAA/E,EAAAgF,SAAAC,OAAA,mCAAAC,MAAAlF,EAAAmF,mBAAAC,uBAAA,GAA+JvC,GAAA,CAAKwC,iBAAArF,EAAAsF,oBAAAC,qBAAA,SAAArD,GAA+ElC,EAAA8E,YAAA5C,GAAuBsD,sBAAA,SAAAtD,GAAwClC,EAAA8E,YAAA5C,OAAyB,YACnrJuD,EAAA,GCuIAC,aAAA,CACAlD,KAAA,SACAmD,KAFA,WAGA,OACAC,SAAA,GACAC,WAAA,GACAC,MAAA,GACAC,UAAA,GACAxC,UAAA,GACAY,SAAA,GACA6B,IAAA,GACA9B,KAAA,CACA+B,KAAA,UACAC,KAAA,OACAC,KAAA,UACAC,KAAA,SACAC,KAAA,GACAC,KAAA,IAEAC,YAAA,GACAC,eAAA,GACArB,mBAAA,EACAH,SAAA,EACAR,SAAA,EACAiC,aAAA,EACA7B,MAAA,IACAE,YAAA,EACAtD,MAAA,GACAkF,IAAAzG,KAAA0G,OAAAC,MAAAC,eAGAC,QAAA,eAAAC,EAAA9G,KACAA,KAAA+G,6BAEAC,GAAAhH,KAAA0G,OAAAC,MAAAzC,SACAlE,KAAAoE,OAAA6C,cACAC,KAAA,SAAAC,GACAC,QAAAC,IAAA,YAAAF,GACAL,EAAAG,YAAAE,KAEAG,MAAA,SAAAC,GACAH,QAAAC,IAAA,UAAAE,KAGAvH,KAAAiH,YAAAjH,KAAA0G,OAAAC,MAAAzC,WAMAsD,QAAA,CACAnC,oBADA,SACAoC,GACAL,QAAAC,IAAA,QAAAK,OAAAD,IACAzH,KAAA6E,YAAA4C,EACAzH,KAAA2H,YAAAF,IAEA5E,WANA,SAMA+E,GAEA,UAEAb,sBAVA,WAUA,IAAAc,EAAA7H,KACAA,KAAA8H,MACAC,KAAA,qBACAb,KAAA,SAAAc,GACA,KAAAA,EAAAtC,KAAAuC,MACAJ,EAAAlC,SAAAqC,EAAAtC,UAAAG,MACAgC,EAAAjC,WAAAoC,EAAAtC,UAAAG,MACAgC,EAAAhC,MAAAmC,EAAAtC,UAAAG,MACAgC,EAAA3C,mBAAA2C,EAAAhC,MAAAqC,OACAd,QAAAC,IAAA,YAAAW,GACAH,EAAAxC,oBAAA,MAGAiC,MAAA,SAAAC,GACAH,QAAAC,IAAAE,MAGAI,YA3BA,SA2BAF,GAEA,IAAAU,EAAAnI,KAAA6F,MACAd,EAAA/E,KAAA+E,SACA,IAAA/E,KAAA+F,IAAAmC,SAAAlI,KAAA+F,IAAA,IACA,IAAAd,EAAAkD,EAAAD,OAAAnD,GAAA0C,EAAA,GACAxC,EAAAF,IAAAE,EAAAF,GACA,QAAA6C,EAAA,EAAAA,EAAAQ,KAAAC,KAAApD,EAAA,GAAA2C,IACA5H,KAAA+F,IAAAuC,KAAAV,GAIA5H,KAAA8F,UAAA,GACA9F,KAAAsD,UAAA,GAGA,IAFA,IAAAiF,EAAAxD,GAAA0C,EAAA,GACAe,EAAA,EACAC,EAAA,EAAAA,EAAAzI,KAAA+F,IAAAmC,OAAAO,IAAA,CAEA,IADA,IAAAC,EAAA,GAEAC,EAAA,EACAA,EAAA,GAAAJ,EAAAJ,EAAAD,QAAAM,GAAAzD,EACA4D,IACA,CACA,GAAAJ,GAAAJ,EAAAD,OAAA,MACAlI,KAAA8F,UAAAwC,KAAAH,EAAAI,IACAG,EAAAJ,KAAAH,EAAAI,MACAC,IAEAxI,KAAAsD,UAAAgF,KAAAI,KAKAzB,YA5DA,SA4DA2B,GACA5I,KAAAkE,SAAA,GACAlE,KAAAkE,SAAAoE,KAAAM,GACA5I,KAAA6I,gBAAAD,GAEAxB,QAAAC,IAAA,0BAAArH,KAAAkE,WAEA2E,gBAnEA,SAmEAD,GACA,IAAAE,EAAA,GAMA,SAAAC,EAAAC,EAAAC,GACA,QAAArB,EAAA,EAAAA,EAAAoB,EAAAd,OAAAN,IACAkB,EAAAE,EAAApB,GAAA9F,OAAAmH,EAEA,aAAAD,EAAApB,IACAmB,EAAAC,EAAApB,GAAAxF,SAAA4G,EAAApB,GAAA9F,OAVAiH,EAAAH,EAAA,OAEA5I,KAAAsG,YAAAwC,EACA1B,QAAAC,IAAA,eAAArH,KAAAsG,cAYAnE,kBApFA,SAoFAsF,EAAApF,EAAAuG,GAEA,MAAA5I,KAAAkE,SAAAgE,OAAA7F,EACArC,KAAAkE,SAAAgF,MAGA,IAAAJ,EAAA9I,KAAAsG,YAEA6C,GADAnJ,KAAAkE,SACA,IAGA,SAAAkF,EAAAR,GACA,OAAAE,EAAAF,IACAQ,EAAAN,EAAAF,IAEAO,EAAAb,KAAAM,GALAQ,EAAAR,GASA5I,KAAAuB,MAAA4H,EAGA,IAAAE,EAAA,GACAA,EAAAf,KAAAM,GACAS,EAAAN,EAAAtB,EAAA4B,GAGArJ,KAAAuG,eAAA8C,EAEA,IAAAlB,EAAAnI,KAAA4F,WACA5F,KAAA6F,MAAA,GACA,QAAA+B,EAAA,EAAAA,EAAAO,EAAAD,OAAAN,IACAyB,EAAAC,QAAAnB,EAAAP,GAAA1D,WAAA,GAEAlE,KAAA6F,MAAAyC,KAAAH,EAAAP,IAeA,SAAAmB,EAAAC,EAAAO,GACA,QAAAvC,IAAAgC,EAAA,OAAAO,EACA,QAAAC,EAAA,EAAAA,EAAAR,EAAAd,OAAAsB,IACAD,EAAAjB,KAAAU,EAAAQ,GAAA1H,OAEA,aAAAkH,EAAAQ,IACAT,EAAAC,EAAAQ,GAAApH,SAAAmH,GAGA,OAAAA,EAnBAvJ,KAAAyJ,eACAzJ,KAAA2H,YAAA3H,KAAA6E,aAEA7E,KAAAwG,YAAA,IAAAxG,KAAA6F,MAAAqC,OAEAlI,KAAAkF,mBAAAlF,KAAA6F,MAAAqC,YAEAlB,IAAAS,GACAzH,KAAAkE,SAAAoE,KAAAb,KAeAiC,QApMA,WAoMA,IAAAC,EAAA3J,KACA4J,WAAA,WACAxC,QAAAC,IAAA,aAAAsC,EAAAE,OAAAC,MAAA5F,UAGA,IAFA,IAAA0E,EAAAe,EAAAE,OAAAC,MAAA5F,SACA6F,EAAAJ,EAAAzF,SAAA,GACA0D,EAAA,EAAAA,EAAAmC,EAAA7B,OAAAN,IACA,GAAAmC,EAAAnC,GAAA9F,QAAA8G,EAAA,CACAxB,QAAAC,IAAA,OAAA0C,EAAAnC,IACA+B,EAAAxH,kBAAA4H,EAAAnC,GAAAxF,SAAA2H,EAAAnC,GAAAvF,MAAA0H,EAAAnC,GAAA9F,OACA,QAGA,MAEAkI,MAAA,CACAC,wBADA,SACAC,EAAAC,GACA/C,QAAAC,IAAA,aAAArH,KAAA6J,OAAAC,MAAA5F,UAGA,IAFA,IAAA0E,EAAA5I,KAAA6J,OAAAC,MAAA5F,SACA6F,EAAA/J,KAAAkE,SAAA,GACA0D,EAAA,EAAAA,EAAAmC,EAAA7B,OAAAN,IACA,GAAAmC,EAAAnC,GAAA9F,QAAA8G,EAAA,CACAxB,QAAAC,IAAA,OAAA0C,EAAAnC,IACA5H,KAAAmC,kBAAA4H,EAAAnC,GAAAxF,SAAA2H,EAAAnC,GAAAvF,MAAA0H,EAAAnC,GAAA9F,OACA,QAIAsI,uBAbA,SAaAF,EAAAC,GACA/C,QAAAC,IAAA,cAAArH,KAAA6J,OAAAC,MAAAO,SACA,IAAA5D,EAAAzG,KAAA0G,OAAAC,MAAAC,aAEAuB,EAAAnI,KAAA2F,SACA3F,KAAA6F,MAAA,GACA,QAAA+B,EAAA,EAAAA,EAAAO,EAAAD,OAAAN,IACAnB,EAAA6D,KAAAnC,EAAAP,GAAArF,OAEAvC,KAAA6F,MAAAyC,KAAAH,EAAAP,IAGAR,QAAAC,IAAA,YAAArH,KAAA6F,OACA7F,KAAA4F,WAAA5F,KAAA6F,MAEA7F,KAAAyJ,eACAzJ,KAAA2H,YAAA3H,KAAA6E,aAEA7E,KAAAwG,YAAA,IAAAxG,KAAA6F,MAAAqC,OACAlI,KAAAkF,mBAAAlF,KAAA6F,MAAAqC,OAEAlI,KAAAkE,SAAA,GACAlE,KAAAkE,SAAAoE,KAAAtI,KAAA0G,OAAAC,MAAAzC,WAEAqG,yBArCA,SAqCAL,EAAAC,GACA/C,QAAAC,IAAA,cAAArH,KAAA0G,OAAAC,MAAA6D,WACA,IAAA/D,EAAAzG,KAAA0G,OAAAC,MAAAC,aAEAuB,EAAAnI,KAAA2F,SACA3F,KAAA6F,MAAA,GACA,QAAA+B,EAAA,EAAAA,EAAAO,EAAAD,OAAAN,IACAnB,EAAA6D,KAAAnC,EAAAP,GAAArF,OAEAvC,KAAA6F,MAAAyC,KAAAH,EAAAP,IAGAR,QAAAC,IAAA,YAAArH,KAAA6F,OACA7F,KAAA4F,WAAA5F,KAAA6F,MAEA7F,KAAAyJ,eACAzJ,KAAA2H,YAAA3H,KAAA6E,aAEA7E,KAAAwG,YAAA,IAAAxG,KAAA6F,MAAAqC,OACAlI,KAAAkF,mBAAAlF,KAAA6F,MAAAqC,OAEAlI,KAAAkE,SAAA,GACAlE,KAAAkE,SAAAoE,KAAAtI,KAAA0G,OAAAC,MAAAzC,cCrZ+VuG,EAAA,0BCQ/VC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA3K,EACA0F,GACF,EACA,KACA,WACA,MAIeqF,EAAA,WAAAH,+CCnBf,IAAAI,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAofE,EAAG","file":"js/chunk-d6a48762.c1b5a053.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"search\"}},[_c('el-container',[_c('el-container',{staticStyle:{\"border\":\"1px solid #eee\",\"width\":\"77%\"}},[_c('el-aside',{staticStyle:{\"border-right\":\"green\",\"width\":\"15%\"}},[_c('el-card',{staticStyle:{\"height\":\"100%\",\"background\":\"#f3f3f3\"},attrs:{\"body-style\":{ padding: '0px', height: '100%' }}},[_c('div',{staticClass:\"vertical-center\"},[_vm._v(\"筛选：\")])])],1),_c('el-container',[_c('el-main',[_c('div',{staticClass:\"line\",staticStyle:{\"margin\":\"0% 18%\"}},_vm._l((_vm.category),function(items,id){return _c('div',{key:id},[_c('el-radio-group',{model:{value:(_vm.radio[id]),callback:function ($$v) {_vm.$set(_vm.radio, id, $$v)},expression:\"radio[id]\"}},_vm._l((items),function(bitem,bid){return _c('el-radio-button',{key:bid,attrs:{\"label\":bitem.label},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.showChildCategory(bitem.children, bitem.level, bitem.label)}}})}),1)],1)}),0)]),_c('el-aside',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}]},[_c('div',{staticClass:\"vertical-center\"},[_c('div',[_c('el-link',{staticStyle:{\"font-size\":\"30px\"},attrs:{\"icon\":\"el-icon-s-grid\",\"underline\":false},on:{\"click\":function($event){return _vm.changeShow('1')}}}),_c('el-link',{staticStyle:{\"font-size\":\"30px\"},attrs:{\"icon\":\"el-icon-s-unfold\",\"underline\":false},on:{\"click\":function($event){return _vm.changeShow('2')}}})],1)])])],1)],1),_c('el-container',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchAlert),expression:\"searchAlert\"}],staticStyle:{\"margin\":\"20px\"}},[_c('div',[_c('el-alert',{attrs:{\"title\":\"提示\",\"type\":\"error\",\"description\":\"抱歉，没有符合筛选条件的商品\",\"effect\":\"dark\",\"show-icon\":\"\"}})],1)]),_c('el-main',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticStyle:{\"width\":\"80%\"},attrs:{\"id\":\"gridShow\"}},_vm._l((_vm.row),function(r){return _c('el-row',{key:r,staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"gutter\":20}},_vm._l((_vm.gridGoods[r]),function(item,id){return _c('el-col',{key:id,attrs:{\"span\":6}},[_c('el-card',{attrs:{\"body-style\":{ padding: '0px' },\"shadow\":\"hover\"}},[_c('img',{staticClass:\"image\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":item.picture_url}}),_c('div',{staticStyle:{\"padding\":\"14px\"}},[_c('div',{staticStyle:{\"text-align\":\"left\",\"color\":\"#e4393c\"}},[_vm._v(\"¥ \"+_vm._s(item.price)+\" / \"+_vm._s(item.unit))]),_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('el-link',{attrs:{\"underline\":false}},[_vm._v(_vm._s(item.name))])],1),_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('el-tag',{attrs:{\"type\":_vm.tags[item.category]}},[_vm._v(_vm._s(item.category))])],1),_c('div',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"库存 ：\"+_vm._s(item.remain)+_vm._s(item.unit))]),_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-shopping-cart-full\"},on:{\"click\":function($event){return _vm.Public.addToCartList(item.goods_id)}}},[_vm._v(\"加入购物车\")])],1)])])],1)}),1)}),1),_c('el-main',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.visible),expression:\"!visible\"}],staticStyle:{\"width\":\"80%\"},attrs:{\"id\":\"listShow\"}},_vm._l((_vm.listGoods),function(item,id){return _c('el-card',{key:id,staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"body-style\":{ padding: '0px', height: '50%' },\"shadow\":\"hover\"}},[_c('div',[_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('img',{staticClass:\"image\",staticStyle:{\"width\":\"10rem\",\"height\":\"10rem\"},attrs:{\"src\":item.picture_url}})]),_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('el-link',{attrs:{\"underline\":false}},[_vm._v(_vm._s(item.name))])],1),_c('el-rate',{staticStyle:{\"text-align\":\"center\"},attrs:{\"disabled\":\"\",\"show-score\":\"\"},model:{value:(_vm.rates),callback:function ($$v) {_vm.rates=$$v},expression:\"rates\"}}),_c('div',{staticStyle:{\"text-align\":\"left\",\"color\":\"#e4393c\"}},[_vm._v(\"¥ \"+_vm._s(item.price))]),_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(_vm._s(item.category))])],1),_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"库存 ：\"+_vm._s(item.remain)+_vm._s(item.unit))])]),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-shopping-cart-full\"}},[_vm._v(\"加入购物车\")])],1)],1)])])}),1),_c('el-footer',[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.searchResultLength,\"hide-on-single-page\":false},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"search\">\n    <el-container>\n      <el-container style=\"border: 1px solid #eee; width: 77%\">\n        <el-aside style=\"border-right: green; width: 15%\">\n          <el-card\n            :body-style=\"{ padding: '0px', height: '100%' }\"\n            style=\"height: 100%; background: #f3f3f3\"\n          >\n            <div class=\"vertical-center\">筛选：</div>\n          </el-card>\n        </el-aside>\n        <el-container>\n          <el-main>\n            <div style=\"margin: 0% 18%\" class=\"line\">\n              <div v-for=\"(items, id) in category\" :key=\"id\">\n                <el-radio-group v-model=\"radio[id]\">\n                  <el-radio-button\n                    v-for=\"(bitem, bid) in items\"\n                    :key=\"bid\"\n                    :label=\"bitem.label\"\n                    @click.native.prevent=\"showChildCategory(bitem.children, bitem.level, bitem.label)\"\n                  ></el-radio-button>\n                </el-radio-group>\n              </div>\n            </div>\n          </el-main>\n          <el-aside v-show=\"false\">\n            <div class=\"vertical-center\">\n              <div>\n                <el-link\n                  icon=\"el-icon-s-grid\"\n                  :underline=\"false\"\n                  @click=\"changeShow('1')\"\n                  style=\"font-size:30px\"\n                ></el-link>\n                <el-link\n                  icon=\"el-icon-s-unfold\"\n                  :underline=\"false\"\n                  @click=\"changeShow('2')\"\n                  style=\"font-size:30px\"\n                ></el-link>\n              </div>\n            </div>\n          </el-aside>\n        </el-container>\n      </el-container>\n      <el-container v-show=\"searchAlert\" style=\"margin: 20px\">\n        <div>\n          <el-alert title=\"提示\" type=\"error\" description=\"抱歉，没有符合筛选条件的商品\" effect=\"dark\" show-icon></el-alert>\n        </div>\n      </el-container>\n      <el-main id=\"gridShow\" v-show=\"visible\" style=\"width: 80%\">\n        <el-row v-for=\"r in row\" :key=\"r\" :gutter=\"20\" style=\"margin-bottom: 10px\">\n          <el-col :span=\"6\" v-for=\"(item, id) in gridGoods[r]\" :key=\"id\">\n            <el-card :body-style=\"{ padding: '0px' }\" shadow=\"hover\">\n              <img :src=\"item.picture_url\" class=\"image\" style=\"width: 100%; height: 100%\">\n              <div style=\"padding: 14px;\">\n                <div style=\"text-align:left; color:#e4393c\">¥ {{ item.price }} / {{ item.unit }}</div>\n                <div style=\"text-align:left\">\n                  <el-link :underline=\"false\">{{ item.name }}</el-link>\n                </div>\n                <div style=\"text-align:left\">\n                  <el-tag :type=\"tags[item.category]\">{{ item.category }}</el-tag>\n                </div>\n                <!-- <el-rate v-model=\"rates\" disabled show-score style=\"text-align:left\"></el-rate> -->\n                <div style=\"text-align:left\">库存 ：{{ item.remain }}{{ item.unit }}</div>\n                <div>\n                  <el-button\n                    type=\"text\"\n                    icon=\"el-icon-shopping-cart-full\"\n                    @click=\"Public.addToCartList(item.goods_id)\"\n                  >加入购物车</el-button>\n                </div>\n              </div>\n            </el-card>\n          </el-col>\n        </el-row>\n      </el-main>\n      <el-main id=\"listShow\" v-show=\"!visible\" style=\"width: 80%\">\n        <el-card\n          v-for=\"(item, id) in listGoods\"\n          :key=\"id\"\n          :body-style=\"{ padding: '0px', height: '50%' }\"\n          style=\"margin-bottom: 10px\"\n          shadow=\"hover\"\n        >\n          <div>\n            <div style=\"display: inline\">\n              <img :src=\"item.picture_url\" class=\"image\" style=\"width: 10rem; height: 10rem\">\n            </div>\n            <div style=\"display: inline-block\">\n              <div style=\"text-align:left\">\n                <el-link :underline=\"false\">{{ item.name }}</el-link>\n              </div>\n              <el-rate v-model=\"rates\" disabled show-score style=\"text-align:center\"></el-rate>\n              <div style=\"text-align:left; color:#e4393c\">¥ {{ item.price }}</div>\n              <div style=\"text-align:left\">\n                <el-tag type=\"warning\">{{ item.category }}</el-tag>\n              </div>\n              <div style=\"text-align:left\">\n                <div style=\"text-align:left\">库存 ：{{ item.remain }}{{ item.unit }}</div>\n              </div>\n              <div style=\"text-align:center\">\n                <el-button type=\"text\" icon=\"el-icon-shopping-cart-full\">加入购物车</el-button>\n              </div>\n            </div>\n          </div>\n        </el-card>\n      </el-main>\n      <el-footer>\n        <el-pagination\n          @current-change=\"handleCurrentChange\"\n          :current-page.sync=\"currentPage\"\n          :page-size=\"pageSize\"\n          layout=\"total, prev, pager, next, jumper\"\n          :total=\"searchResultLength\"\n          :hide-on-single-page=\"false\"\n        ></el-pagination>\n      </el-footer>\n    </el-container>\n  </div>\n</template>\n\n<style scoped>\n.vertical-center {\n  height: 100%;\n  font-weight: bold;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n\n<script>\nexport default {\n  name: \"search\",\n  data() {\n    return {\n      allGoods: [],\n      totalGoods: [],\n      goods: [],\n      listGoods: [],\n      gridGoods: [],\n      category: [],\n      row: [],\n      tags: {\n        蔬菜: \"success\",\n        水果: \"info\",\n        海鲜: \"warning\",\n        肉类: \"danger\",\n        熟食: \"\",\n        其他: \"\"\n      },\n      allCategory: {},\n      filterCategory: [],\n      searchResultLength: 0,\n      pageSize: 8,\n      visible: true,\n      searchAlert: false,\n      rates: 3.3,\n      currentPage: 1,\n      radio: [],\n      reg: this.$store.state.searchRegExp\n    };\n  },\n  created: function() {\n    this.getsearchResultLength();\n\n    if (this.$store.state.category == undefined) {\n      this.Public.getCategory()\n        .then(result => {\n          console.log(\"F SUCCESS\", result);\n          this.getCategory(result);\n        })\n        .catch(function(error) {\n          console.log(\"F ERROR\", error);\n        });\n    } else {\n      this.getCategory(this.$store.state.category);\n    }\n  },\n  // mounted: function() {\n  //   this.category = this.$store.state.category;\n  // },\n  methods: {\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`);\n      this.currentPage = val;\n      this.changePages(val);\n    },\n    changeShow(i) {\n      // this.visible = i === \"1\";\n      return true;\n    },\n    getsearchResultLength() {\n      this.$ajax\n        .post(\"/api/goods/all\", {})\n        .then(res => {\n          if (res.data.ret == \"0\") {\n            this.allGoods = res.data.data.goods;\n            this.totalGoods = res.data.data.goods;\n            this.goods = res.data.data.goods;\n            this.searchResultLength = this.goods.length;\n            console.log(\"goods/all\", res);\n            this.handleCurrentChange(1);\n          }\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    },\n    changePages(val) {\n      // this.listGoods = this.goods;\n      let tempGoods = this.goods;\n      let pageSize = this.pageSize;\n      if (this.row.length !== 0) this.row = [];\n      let total = tempGoods.length - pageSize * (val - 1);\n      if (total > pageSize) total = pageSize;\n      for (let i = 0; i < Math.ceil(total / 4); i++) {\n        this.row.push(i);\n      }\n      // console.log(\"row\", this.row);\n\n      this.listGoods = [];\n      this.gridGoods = [];\n      let index = pageSize * (val - 1);\n      let cnt = 1;\n      for (let i = 0; i < this.row.length; i++) {\n        let tempArray = [];\n        for (\n          let j = 0;\n          j < 4 && index < tempGoods.length && cnt <= pageSize;\n          j++\n        ) {\n          if (index >= tempGoods.length) break;\n          this.listGoods.push(tempGoods[index]);\n          tempArray.push(tempGoods[index++]);\n          cnt++;\n        }\n        this.gridGoods.push(tempArray);\n      }\n      // console.log(\"gridGoods:\", this.gridGoods);\n      // console.log(\"listGoods:\", this.listGoods);\n    },\n    getCategory(ctg) {\n      this.category = [];\n      this.category.push(ctg);\n      this.getCategoryTree(ctg);\n      // this.category.push(ctg);\n      console.log(\"SEARCH.VUE, GETCATEGORY\", this.category);\n    },\n    getCategoryTree(ctg) {\n      let tempAllCategory = {};\n      addCtg(ctg, \"top\");\n\n      this.allCategory = tempAllCategory;\n      console.log(\"allcategory:\", this.allCategory);\n\n      function addCtg(child, parent) {\n        for (let i = 0; i < child.length; i++) {\n          tempAllCategory[child[i].label] = parent;\n\n          if (\"children\" in child[i]) {\n            addCtg(child[i].children, child[i].label);\n          }\n        }\n      }\n    },\n    showChildCategory(val, level, ctg) {\n      // console.log(\"val\", val);\n      while (this.category.length > level) {\n        this.category.pop();\n      }\n\n      let tempAllCategory = this.allCategory;\n      let tcategory = this.category;\n      let tradio = [];\n\n      addRadio(ctg);\n      function addRadio(ctg) {\n        if (tempAllCategory[ctg] != \"top\") {\n          addRadio(tempAllCategory[ctg]);\n        }\n        tradio.push(ctg);\n      }\n\n      // console.log(\"tradio\", tradio);\n      this.radio = tradio;\n      // console.log(\"radio:\", this.radio);\n\n      let tempCtg = [];\n      tempCtg.push(ctg);\n      tempCtg = addCtg(val, tempCtg);\n\n      // console.log(\"tempCtg\", tempCtg);\n      this.filterCategory = tempCtg;\n\n      let tempGoods = this.totalGoods;\n      this.goods = [];\n      for (let i = 0; i < tempGoods.length; i++) {\n        if (tempCtg.indexOf(tempGoods[i].category) > -1) {\n          // console.log(i, tempGoods[i]);\n          this.goods.push(tempGoods[i]);\n        }\n      }\n\n      // console.log(\"this.goods\", this.goods);\n      this.$forceUpdate();\n      this.changePages(this.currentPage);\n\n      this.searchAlert = this.goods.length === 0 ? true : false;\n      // console.log('seachalter', this.searchAlert);\n      this.searchResultLength = this.goods.length;\n\n      if (val === undefined) return;\n      this.category.push(val);\n\n      function addCtg(child, temp) {\n        if (child === undefined) return temp;\n        for (let i = 0; i < child.length; i++) {\n          temp.push(child[i].label);\n\n          if (\"children\" in child[i]) {\n            addCtg(child[i].children, temp);\n          }\n        }\n        return temp;\n      }\n    }\n  },\n  mounted() {\n    setTimeout(() => {\n      console.log(\"category: \", this.$route.query.category);\n      let ctg = this.$route.query.category;\n      let t = this.category[0];\n      for (let i = 0; i < t.length; i++) {\n        if (t[i].label === ctg) {\n          console.log(\"T{I}\", t[i]);\n          this.showChildCategory(t[i].children, t[i].level, t[i].label);\n          break;\n        }\n      }\n    }, 150);\n  },\n  watch: {\n    \"$route.query.category\"(to, from) {\n      console.log(\"category: \", this.$route.query.category);\n      let ctg = this.$route.query.category;\n      let t = this.category[0];\n      for (let i = 0; i < t.length; i++) {\n        if (t[i].label === ctg) {\n          console.log(\"T{I}\", t[i]);\n          this.showChildCategory(t[i].children, t[i].level, t[i].label);\n          break;\n        }\n      }\n    },\n    \"$route.query.content\"(to, from) {\n      console.log(\"searchbox: \", this.$route.query.content);\n      let reg = this.$store.state.searchRegExp;\n\n      let tempGoods = this.allGoods;\n      this.goods = [];\n      for (let i = 0; i < tempGoods.length; i++) {\n        if (reg.test(tempGoods[i].name)) {\n          // console.log(i, tempGoods[i]);\n          this.goods.push(tempGoods[i]);\n        }\n      }\n      console.log(\"REG goods\", this.goods);\n      this.totalGoods = this.goods;\n\n      this.$forceUpdate();\n      this.changePages(this.currentPage);\n\n      this.searchAlert = this.goods.length === 0 ? true : false;\n      this.searchResultLength = this.goods.length;\n\n      this.category = [];\n      this.category.push(this.$store.state.category);\n    },\n    \"$store.state.searchbox\"(to, from) {\n      console.log(\"searchbox: \", this.$store.state.searchbox);\n      let reg = this.$store.state.searchRegExp;\n\n      let tempGoods = this.allGoods;\n      this.goods = [];\n      for (let i = 0; i < tempGoods.length; i++) {\n        if (reg.test(tempGoods[i].name)) {\n          // console.log(i, tempGoods[i]);\n          this.goods.push(tempGoods[i]);\n        }\n      }\n      console.log(\"REG goods\", this.goods);\n      this.totalGoods = this.goods;\n\n      this.$forceUpdate();\n      this.changePages(this.currentPage);\n\n      this.searchAlert = this.goods.length === 0 ? true : false;\n      this.searchResultLength = this.goods.length;\n\n      this.category = [];\n      this.category.push(this.$store.state.category);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=7f013147&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=7f013147&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f013147\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=7f013147&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=7f013147&scoped=true&lang=css&\""],"sourceRoot":""}